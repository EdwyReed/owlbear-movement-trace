# Owlbear Trail

Минимальное расширение для [Owlbear Rodeo](https://www.owlbear.rodeo/), отображающее путь последнего перемещения токена персонажа.

## Возможности

- отслеживание перемещений элементов на слое `CHARACTER`;
- отрисовка кривой на слое `DRAWING` после остановки перетаскивания (дребезг ~320 мс);
- автоматическое удаление предыдущего трейла токена при следующем перетаскивании;
- настраиваемый цвет линии (пресеты + произвольный HEX, сохраняется в `localStorage`).

## Быстрый старт

1. Установите [Node.js LTS 20.x](https://nodejs.org/) и [pnpm](https://pnpm.io/installation).
2. Установите зависимости:
   ```bash
   pnpm install
   ```
3. Запустите dev-сервер Vite:
   ```bash
   pnpm dev
   ```
4. Добавьте расширение в Owlbear Rodeo, указав URL dev-сервера (`http://localhost:5173/index.html`) или собранного приложения.

## Сборка и деплой

```bash
pnpm build
```

Собранные файлы появятся в каталоге `dist/`. Их можно опубликовать на любой статический хостинг (GitHub Pages, Vercel, Netlify, S3+CDN и т. п.). При подключении расширения укажите URL `index.html` или `manifest.json`.

Для предпросмотра production-сборки используйте:

```bash
pnpm preview
```

## Структура проекта

```
owlbear-trail/
├─ index.html           # точка входа расширения
├─ public/
│  ├─ icon.svg          # текстовая иконка расширения (можно заменить своей)
│  └─ manifest.json     # описание расширения для OBR
├─ src/
│  ├─ main.ts           # основная логика трекинга и рендеринга трейлов
│  ├─ ui.ts             # выбор цвета с локальным хранением
│  └─ ui.css            # стили панели выбора цвета
├─ package.json
├─ pnpm-lock.yaml
├─ tsconfig.json
└─ vite.config.ts
```

## Лицензия

MIT — см. файл [LICENSE](./LICENSE).
